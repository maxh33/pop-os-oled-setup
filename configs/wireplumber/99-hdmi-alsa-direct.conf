# NVIDIA HDMI Audio Fix - Bypass PipeWire's SPA-ALSA adapter
# Uses direct ALSA path to avoid distortion bug in PipeWire 1.5.84
monitor.alsa.rules = [
  {
    matches = [
      {
        node.name = "~alsa_output.pci-0000_0a_00.1.*"
      }
    ]
    actions = {
      update-props = {
        audio.format = "S16LE"
        audio.rate = 48000
        audio.channels = 2
        api.alsa.path = "hw:NVidia,3"
        api.alsa.open.ucm = false
        api.alsa.use-acp = false
        session.suspend-timeout-seconds = 0
      }
    }
  }
]
